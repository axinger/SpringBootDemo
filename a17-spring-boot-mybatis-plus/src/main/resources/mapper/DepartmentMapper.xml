<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.axing.demo.mapper.DepartmentMapper">

    <resultMap id="BaseResultMap" type="com.axing.demo.domain.Department">
        <id property="id" column="id" jdbcType="BIGINT"/>
        <result property="name" column="name" jdbcType="VARCHAR"/>

        <collection property="empList" ofType="com.axing.demo.domain.Employee">
            <!--            含有相同的字段名-->
            <id property="id" column="s_id" jdbcType="BIGINT"/>
            <result property="name" column="s_name" jdbcType="VARCHAR"/>
            <result property="email" column="email" jdbcType="VARCHAR"/>
            <result property="gender" column="gender" jdbcType="INTEGER"/>
            <result property="deptId" column="dept_id" jdbcType="INTEGER"/>

        </collection>

    </resultMap>

    <sql id="Base_Column_List">
        id
        ,name
    </sql>

    <select id="listLeft" resultMap="BaseResultMap">
        SELECT d.*,
               e.id      as s_id,
               e.name    as s_name,
               e.gender  as gender,
               e.dept_id as dept_id
        FROM department d
                 LEFT JOIN employee e
                           ON e.dept_id = d.id
            ${ew.customSqlSegment}
    </select>

</mapper>
