Java中内存溢出常见于如下的几种情形：

    栈内存溢出（StackOverflowError）
    堆内存溢出（OutOfMemoryError：java heap space）
    永久代溢出（OutOfMemoryError：PermGen sapce）
```text
一、堆内存溢出 OutOfMemoryError

从jvm的角度看发生的情况是：

1、动态扩展的栈内存无法满足内存分配。

2、建立新的线程没有足够内存创建栈。

从编码角度看发生的情况是：

1、内存中加载的数据量过于庞大，如一次从数据库取出过多数据；

2、集合类中有对对象的引用，使用完后未清空，使得JVM不能回收；   

3、代码中存在死循环或循环产生过多重复的对象实体；

4、使用的第三方软件中的BUG；    

5、启动参数内存值设定的过小；

解决方案：

1、检查代码中是否存在一次性取出大量数据

2、检查循环体、递归调用中是否有大量导致gc无法回收的对象

3、-Xms -Xmx 配置最大最小堆内存大小，默认 -Xms256m -Xmx512m

二、栈内存溢出 StackOverflowError

从jvm的角度看发生的情况是：方法执行时申请不到新的空间存储(局部变量表, 操作数栈 , 动态链接 , 方法出口信息)。

从编码角度看发生的情况是： 一般出现在递归和循环依赖调用的代码块中

解决方案：

1、检查递归和循环依赖调用的代码块，尽可能严谨。

2、-Xss 通过这个参数配置默认的jvm栈大小，这个标识即可以通过项目的配置也可以通过命令行来指定，默认 -Xss1m 或者 -Xss0.5m。

```
